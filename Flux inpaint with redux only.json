{"id":"70c10116-aa39-482c-ae60-4c1e93c49a3a","revision":0,"last_node_id":186,"last_link_id":320,"nodes":[{"id":25,"type":"RandomNoise","pos":[-316.2863464355469,115.02350616455078],"size":[315,82],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"noise_seed","name":"noise_seed","type":"INT","widget":{"name":"noise_seed"},"link":null}],"outputs":[{"localized_name":"NOISE","name":"NOISE","type":"NOISE","slot_index":0,"links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"RandomNoise"},"widgets_values":[1043595384966881,"randomize"]},{"id":94,"type":"Image Comparer (rgthree)","pos":[1569,55],"size":[851.2347412109375,674.3973388671875],"flags":{},"order":33,"mode":0,"inputs":[{"dir":3,"name":"image_a","type":"IMAGE","link":278},{"dir":3,"name":"image_b","type":"IMAGE","link":222}],"outputs":[],"properties":{"cnr_id":"rgthree-comfy","ver":"1.0.2505182359","comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/api/view?filename=rgthree.compare._temp_jxgzd_00051_.png&type=temp&subfolder=&rand=0.8976173970617192"},{"name":"B","selected":true,"url":"/api/view?filename=rgthree.compare._temp_jxgzd_00052_.png&type=temp&subfolder=&rand=0.4483078657330428"}]]},{"id":72,"type":"Note","pos":[1112,48],"size":[428.03350830078125,300.370849609375],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["Please Leave a Review on Civit AI: https://civitai.com/user/AIMotionStudio\nSubscribe to our Youtube for ComfyUI Tutorials: http://www.youtube.com/@AiMotionStudio\n\n\nLoad CLIP Vision: https://huggingface.co/Comfy-Org/sigclip_vision_384/blob/main/sigclip_vision_patch14_384.safetensors\n\nLoad Style Model: https://civitai.com/models/969352/flux-adapter-flux1-redux-dev\n\nLoad Flux Fill Dev GGUF Model: https://huggingface.co/YarvixPA/FLUX.1-Fill-dev-gguf/tree/main\n\nLoad Lora Model: https://huggingface.co/alimama-creative/FLUX.1-Turbo-Alpha/tree/main"],"color":"#432","bgcolor":"#653"},{"id":76,"type":"DownloadAndLoadSAM2Model","pos":[426.08837890625,92.38005065917969],"size":[210,130],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"segmentor","name":"segmentor","type":"COMBO","widget":{"name":"segmentor"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null}],"outputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","slot_index":0,"links":[145]}],"properties":{"cnr_id":"ComfyUI-segment-anything-2","ver":"c59676b008a76237002926f684d0ca3a9b29ac54","Node name for S&R":"DownloadAndLoadSAM2Model"},"widgets_values":["sam2.1_hiera_large.safetensors","single_image","cuda","fp16"]},{"id":75,"type":"Florence2toCoordinates","pos":[422.3725891113281,265.50738525390625],"size":[210,102],"flags":{},"order":20,"mode":0,"inputs":[{"localized_name":"data","name":"data","type":"JSON","link":149},{"localized_name":"index","name":"index","type":"STRING","widget":{"name":"index"},"link":null},{"localized_name":"batch","name":"batch","type":"BOOLEAN","widget":{"name":"batch"},"link":null}],"outputs":[{"localized_name":"center_coordinates","name":"center_coordinates","type":"STRING","slot_index":0,"links":[]},{"localized_name":"bboxes","name":"bboxes","type":"BBOX","slot_index":1,"links":[146]}],"properties":{"cnr_id":"ComfyUI-segment-anything-2","ver":"c59676b008a76237002926f684d0ca3a9b29ac54","Node name for S&R":"Florence2toCoordinates"},"widgets_values":["",false]},{"id":124,"type":"InpaintStitchImproved","pos":[855.5928955078125,-56.32391357421875],"size":[215.03671264648438,46],"flags":{"collapsed":false},"order":31,"mode":0,"inputs":[{"localized_name":"stitcher","name":"stitcher","type":"STITCHER","link":219},{"localized_name":"inpainted_image","name":"inpainted_image","type":"IMAGE","link":220}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[221,222]}],"properties":{"cnr_id":"comfyui-inpaint-cropandstitch","ver":"b432b2411cbb7d3192d35953bd3aafea05a0e245","Node name for S&R":"InpaintStitchImproved"},"widgets_values":[]},{"id":74,"type":"Sam2Segmentation","pos":[413.58612060546875,426.1356201171875],"size":[220,202],"flags":{},"order":22,"mode":0,"inputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","link":145},{"localized_name":"image","name":"image","type":"IMAGE","link":148},{"localized_name":"coordinates_positive","name":"coordinates_positive","shape":7,"type":"STRING","link":null},{"localized_name":"coordinates_negative","name":"coordinates_negative","shape":7,"type":"STRING","link":null},{"localized_name":"bboxes","name":"bboxes","shape":7,"type":"BBOX","link":146},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"individual_objects","name":"individual_objects","shape":7,"type":"BOOLEAN","widget":{"name":"individual_objects"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","slot_index":0,"links":[144]}],"properties":{"cnr_id":"ComfyUI-segment-anything-2","ver":"c59676b008a76237002926f684d0ca3a9b29ac54","Node name for S&R":"Sam2Segmentation"},"widgets_values":[false,false]},{"id":10,"type":"VAELoader","pos":[-308,610],"size":[311.81634521484375,60.429901123046875],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[168,174]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"VAELoader"},"widgets_values":["ae.safetensors"]},{"id":85,"type":"ConditioningZeroOut","pos":[789.5068969726562,770.2325439453125],"size":[317.4000244140625,26],"flags":{"collapsed":true},"order":23,"mode":0,"inputs":[{"label":"conditioning","localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":164}],"outputs":[{"label":"CONDITIONING","localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[309]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"ConditioningZeroOut"},"widgets_values":[]},{"id":81,"type":"LoraLoaderModelOnly","pos":[-300,331],"size":[302.806884765625,82],"flags":{},"order":15,"mode":4,"inputs":[{"label":"model","localized_name":"model","name":"model","type":"MODEL","link":281},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"strength_model","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null}],"outputs":[{"label":"MODEL","localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"LoraLoaderModelOnly"},"widgets_values":["FLUX.1-Turbo-Alpha.safetensors",1]},{"id":41,"type":"DualCLIPLoaderGGUF","pos":[-307,458],"size":[315,106],"flags":{"collapsed":true},"order":4,"mode":0,"inputs":[{"localized_name":"clip_name1","name":"clip_name1","type":"COMBO","widget":{"name":"clip_name1"},"link":null},{"localized_name":"clip_name2","name":"clip_name2","type":"COMBO","widget":{"name":"clip_name2"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":0,"links":[]}],"properties":{"cnr_id":"ComfyUI-GGUF","ver":"a2b75978fd50c0227a58316619b79d525b88e570","Node name for S&R":"DualCLIPLoaderGGUF"},"widgets_values":["t5-v1_1-xxl-encoder.gguf","clip_l.safetensors","flux"]},{"id":63,"type":"SaveImage","pos":[1118,408],"size":[415.305908203125,467.5404968261719],"flags":{},"order":32,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":221},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":82,"type":"KSampler","pos":[777.0092163085938,200.6903076171875],"size":[315,474.00006103515625],"flags":{"collapsed":false},"order":29,"mode":0,"inputs":[{"label":"model","localized_name":"model","name":"model","type":"MODEL","link":302},{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","link":303},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","link":304},{"label":"latent_image","localized_name":"latent_image","name":"latent_image","type":"LATENT","link":305},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"label":"LATENT","localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[306]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"KSampler"},"widgets_values":[30697919501683,"randomize",8,1,"dpmpp_2m","sgm_uniform",1]},{"id":90,"type":"StyleModelLoader","pos":[41.58628845214844,844.135009765625],"size":[351.3459777832031,66.5030517578125],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"style_model_name","name":"style_model_name","type":"COMBO","widget":{"name":"style_model_name"},"link":null}],"outputs":[{"localized_name":"STYLE_MODEL","name":"STYLE_MODEL","type":"STYLE_MODEL","slot_index":0,"links":[182]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"StyleModelLoader"},"widgets_values":["flux1-redux-dev.safetensors"],"color":"#233","bgcolor":"#355"},{"id":67,"type":"Florence2Run","pos":[45.58627700805664,273.1357421875],"size":[313.7927551269531,364],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":277},{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","link":191},{"localized_name":"text_input","name":"text_input","type":"STRING","widget":{"name":"text_input"},"link":null},{"localized_name":"task","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"localized_name":"fill_mask","name":"fill_mask","type":"BOOLEAN","widget":{"name":"fill_mask"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":null},{"localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"localized_name":"output_mask_select","name":"output_mask_select","shape":7,"type":"STRING","widget":{"name":"output_mask_select"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","slot_index":0,"links":[148]},{"localized_name":"mask","name":"mask","type":"MASK","links":[]},{"localized_name":"caption","name":"caption","type":"STRING","slot_index":2,"links":[]},{"localized_name":"data","name":"data","type":"JSON","slot_index":3,"links":[149]}],"properties":{"cnr_id":"comfyui-florence2","ver":"18f62acf57b02f4e94282dcb74ee8f6dd7ca8878","Node name for S&R":"Florence2Run"},"widgets_values":["sky","caption_to_phrase_grounding",true,true,1024,64,false,"",977810535250346,"fixed"]},{"id":84,"type":"FluxGuidance","pos":[642.7066040039062,754.6880493164062],"size":[317.4000244140625,58],"flags":{},"order":21,"mode":4,"inputs":[{"label":"conditioning","localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":185},{"localized_name":"guidance","name":"guidance","type":"FLOAT","widget":{"name":"guidance"},"link":null}],"outputs":[{"label":"CONDITIONING","localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[164,308]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"FluxGuidance"},"widgets_values":[30]},{"id":83,"type":"InpaintModelConditioning","pos":[784.6620483398438,-38.62644958496094],"size":[315,138],"flags":{"collapsed":false},"order":28,"mode":0,"inputs":[{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","link":308},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","link":309},{"label":"vae","localized_name":"vae","name":"vae","type":"VAE","link":168},{"label":"pixels","localized_name":"pixels","name":"pixels","type":"IMAGE","link":214},{"label":"mask","localized_name":"mask","name":"mask","type":"MASK","link":215},{"localized_name":"noise_mask","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null}],"outputs":[{"label":"positive","localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":0,"links":[303]},{"label":"negative","localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":1,"links":[304]},{"label":"latent","localized_name":"latent","name":"latent","type":"LATENT","slot_index":2,"links":[305]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"InpaintModelConditioning"},"widgets_values":[true]},{"id":166,"type":"AILab_MaskExtractor","pos":[-281.8515930175781,585.3992919921875],"size":[271.5777282714844,102],"flags":{"collapsed":true},"order":13,"mode":0,"inputs":[{"localized_name":"Image","name":"image","type":"IMAGE","link":288},{"localized_name":"Mask","name":"mask","type":"MASK","link":289},{"localized_name":"Mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"localized_name":"Background","name":"background","type":"COMBO","widget":{"name":"background"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[]}],"properties":{"cnr_id":"comfyui-rmbg","ver":"daf0b01deb1c529dfb543093bba2ed586aad7886","Node name for S&R":"AILab_MaskExtractor"},"widgets_values":["extract_masked_area","transparent"],"color":"#2e3e57","bgcolor":"#4b5b73"},{"id":92,"type":"StyleModelApply","pos":[421.2857971191406,868.6753540039062],"size":[320,122],"flags":{"collapsed":false},"order":19,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":275},{"localized_name":"style_model","name":"style_model","type":"STYLE_MODEL","link":182},{"localized_name":"clip_vision_output","name":"clip_vision_output","type":"CLIP_VISION_OUTPUT","link":183},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"localized_name":"strength_type","name":"strength_type","type":"COMBO","widget":{"name":"strength_type"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[185]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"StyleModelApply"},"widgets_values":[2.0000000000000004,"multiply"]},{"id":54,"type":"LoadImage","pos":[-672.405029296875,519.0216674804688],"size":[316.0858459472656,468.89483642578125],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[288,307]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[289]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"LoadImage"},"widgets_values":["pasted/image (125).png","image"]},{"id":86,"type":"VAEDecode","pos":[808,932],"size":[210,46],"flags":{"collapsed":false},"order":30,"mode":0,"inputs":[{"label":"samples","localized_name":"samples","name":"samples","type":"LATENT","link":306},{"label":"vae","localized_name":"vae","name":"vae","type":"VAE","link":174}],"outputs":[{"label":"IMAGE","localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[220]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":91,"type":"CLIPVisionEncode","pos":[422.51922607421875,789.0704345703125],"size":[290,78],"flags":{"collapsed":false},"order":14,"mode":0,"inputs":[{"localized_name":"clip_vision","name":"clip_vision","type":"CLIP_VISION","link":181},{"localized_name":"image","name":"image","type":"IMAGE","link":307},{"localized_name":"crop","name":"crop","type":"COMBO","widget":{"name":"crop"},"link":null}],"outputs":[{"localized_name":"CLIP_VISION_OUTPUT","name":"CLIP_VISION_OUTPUT","type":"CLIP_VISION_OUTPUT","slot_index":0,"links":[183]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"CLIPVisionEncode"},"widgets_values":["center"]},{"id":89,"type":"CLIPVisionLoader","pos":[31.586307525634766,724.1349487304688],"size":[362.0671081542969,62.379886627197266],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null}],"outputs":[{"localized_name":"CLIP_VISION","name":"CLIP_VISION","type":"CLIP_VISION","slot_index":0,"links":[181]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"CLIPVisionLoader"},"widgets_values":["sigclip_vision_patch14_384.safetensors"],"color":"#233","bgcolor":"#355"},{"id":161,"type":"NunchakuFluxDiTLoader","pos":[-301.7067565917969,237.38299560546875],"size":[275.7613220214844,202],"flags":{"collapsed":true},"order":8,"mode":0,"inputs":[{"localized_name":"model_path","name":"model_path","type":"COMBO","widget":{"name":"model_path"},"link":null},{"localized_name":"cache_threshold","name":"cache_threshold","type":"FLOAT","widget":{"name":"cache_threshold"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"localized_name":"cpu_offload","name":"cpu_offload","type":"COMBO","widget":{"name":"cpu_offload"},"link":null},{"localized_name":"device_id","name":"device_id","type":"INT","widget":{"name":"device_id"},"link":null},{"localized_name":"data_type","name":"data_type","type":"COMBO","widget":{"name":"data_type"},"link":null},{"localized_name":"i2f_mode","name":"i2f_mode","shape":7,"type":"COMBO","widget":{"name":"i2f_mode"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[281,293]}],"properties":{"cnr_id":"ComfyUI-nunchaku","ver":"aee38dd7ee8f88bf5db0a7ce813da67a4f969c88","Node name for S&R":"NunchakuFluxDiTLoader"},"widgets_values":["svdq-int4-flux.1-fill-dev",0,"nunchaku-fp16","auto",0,"bfloat16","enabled"]},{"id":170,"type":"NunchakuFluxLoraLoader","pos":[-254.99928283691406,281.0849609375],"size":[300.6851501464844,82],"flags":{"collapsed":true},"order":16,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":293},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"lora_strength","name":"lora_strength","type":"FLOAT","widget":{"name":"lora_strength"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[302]}],"properties":{"cnr_id":"ComfyUI-nunchaku","ver":"aee38dd7ee8f88bf5db0a7ce813da67a4f969c88","Node name for S&R":"NunchakuFluxLoraLoader"},"widgets_values":["FLUX.1-Turbo-Alpha.safetensors",1]},{"id":169,"type":"NunchakuTextEncoderLoaderV2","pos":[-307.5409851074219,426.1297607421875],"size":[317.0367126464844,130],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"model_type","name":"model_type","type":"COMBO","widget":{"name":"model_type"},"link":null},{"localized_name":"text_encoder1","name":"text_encoder1","type":"COMBO","widget":{"name":"text_encoder1"},"link":null},{"localized_name":"text_encoder2","name":"text_encoder2","type":"COMBO","widget":{"name":"text_encoder2"},"link":null},{"localized_name":"t5_min_length","name":"t5_min_length","type":"INT","widget":{"name":"t5_min_length"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[295]}],"properties":{"cnr_id":"ComfyUI-nunchaku","ver":"aee38dd7ee8f88bf5db0a7ce813da67a4f969c88","Node name for S&R":"NunchakuTextEncoderLoaderV2"},"widgets_values":["flux.1","clip_l.safetensors","awq-int4-flux.1-t5xxl.safetensors",512]},{"id":6,"type":"CLIPTextEncode","pos":[88.33084106445312,694.9696044921875],"size":[314.8039855957031,96],"flags":{"collapsed":false},"order":17,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":295},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[275]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"CLIPTextEncode"},"widgets_values":[""]},{"id":136,"type":"LoadImage","pos":[-670.4628295898438,52.33735656738281],"size":[315,338],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[277,278,279]},{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":1,"links":[310]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"LoadImage"},"widgets_values":["pasted/image (121).png","image"]},{"id":73,"type":"GrowMask","pos":[416.5260314941406,647.8563232421875],"size":[210,82],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":144},{"localized_name":"expand","name":"expand","type":"INT","widget":{"name":"expand"},"link":null},{"localized_name":"tapered_corners","name":"tapered_corners","type":"BOOLEAN","widget":{"name":"tapered_corners"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":0,"links":[150,311]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.34","Node name for S&R":"GrowMask"},"widgets_values":[0,true]},{"id":77,"type":"LayerMask: MaskPreview","pos":[-269,731],"size":[210,250],"flags":{},"order":25,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":150}],"outputs":[],"properties":{"cnr_id":"comfyui_layerstyle","ver":"a46b1e6d26d45be9784c49f7065ba44700ef2b63","Node name for S&R":"LayerMask: MaskPreview"},"widgets_values":[],"color":"rgba(27, 80, 119, 0.7)"},{"id":95,"type":"Florence2ModelLoader","pos":[65.30660247802734,104.71047973632812],"size":[270,106],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"lora","name":"lora","shape":7,"type":"PEFTLORA","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null}],"outputs":[{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","links":[191]}],"properties":{"cnr_id":"comfyui-florence2","ver":"18f62acf57b02f4e94282dcb74ee8f6dd7ca8878","Node name for S&R":"Florence2ModelLoader"},"widgets_values":["Florence-2-Flux-Large","fp16","sdpa"]},{"id":175,"type":"LatentSwitch","pos":[12.465677261352539,-108.4560775756836],"size":[270,122],"flags":{},"order":26,"mode":0,"inputs":[{"localized_name":"input1","name":"input1","shape":7,"type":"MASK","link":310},{"localized_name":"select","name":"select","type":"INT","widget":{"name":"select"},"link":null},{"localized_name":"sel_mode","name":"sel_mode","type":"BOOLEAN","widget":{"name":"sel_mode"},"link":null},{"name":"input2","type":"MASK","link":311},{"name":"input3","type":"MASK","link":null}],"outputs":[{"label":"MASK","localized_name":"selected_value","name":"MASK","type":"MASK","links":[312]},{"localized_name":"selected_label","name":"selected_label","type":"STRING","links":null},{"localized_name":"selected_index","name":"selected_index","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-impact-pack","ver":"8.15.1","Node name for S&R":"LatentSwitch"},"widgets_values":[2,false]},{"id":185,"type":"Fast Groups Bypasser (rgthree)","pos":[-182.3517608642578,-317.2783508300781],"size":[236.74765014648438,130],"flags":{},"order":12,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null}],"properties":{"matchColors":"","matchTitle":"","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"}},{"id":122,"type":"InpaintCropImproved","pos":[380.1744384765625,-82.8114242553711],"size":[348.095703125,626],"flags":{"collapsed":true},"order":27,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":279},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":312},{"localized_name":"optional_context_mask","name":"optional_context_mask","shape":7,"type":"MASK","link":null},{"localized_name":"downscale_algorithm","name":"downscale_algorithm","type":"COMBO","widget":{"name":"downscale_algorithm"},"link":null},{"localized_name":"upscale_algorithm","name":"upscale_algorithm","type":"COMBO","widget":{"name":"upscale_algorithm"},"link":null},{"localized_name":"preresize","name":"preresize","type":"BOOLEAN","widget":{"name":"preresize"},"link":null},{"localized_name":"preresize_mode","name":"preresize_mode","type":"COMBO","widget":{"name":"preresize_mode"},"link":null},{"localized_name":"preresize_min_width","name":"preresize_min_width","type":"INT","widget":{"name":"preresize_min_width"},"link":null},{"localized_name":"preresize_min_height","name":"preresize_min_height","type":"INT","widget":{"name":"preresize_min_height"},"link":null},{"localized_name":"preresize_max_width","name":"preresize_max_width","type":"INT","widget":{"name":"preresize_max_width"},"link":null},{"localized_name":"preresize_max_height","name":"preresize_max_height","type":"INT","widget":{"name":"preresize_max_height"},"link":null},{"localized_name":"mask_fill_holes","name":"mask_fill_holes","type":"BOOLEAN","widget":{"name":"mask_fill_holes"},"link":null},{"localized_name":"mask_expand_pixels","name":"mask_expand_pixels","type":"INT","widget":{"name":"mask_expand_pixels"},"link":null},{"localized_name":"mask_invert","name":"mask_invert","type":"BOOLEAN","widget":{"name":"mask_invert"},"link":null},{"localized_name":"mask_blend_pixels","name":"mask_blend_pixels","type":"INT","widget":{"name":"mask_blend_pixels"},"link":null},{"localized_name":"mask_hipass_filter","name":"mask_hipass_filter","type":"FLOAT","widget":{"name":"mask_hipass_filter"},"link":null},{"localized_name":"extend_for_outpainting","name":"extend_for_outpainting","type":"BOOLEAN","widget":{"name":"extend_for_outpainting"},"link":null},{"localized_name":"extend_up_factor","name":"extend_up_factor","type":"FLOAT","widget":{"name":"extend_up_factor"},"link":null},{"localized_name":"extend_down_factor","name":"extend_down_factor","type":"FLOAT","widget":{"name":"extend_down_factor"},"link":null},{"localized_name":"extend_left_factor","name":"extend_left_factor","type":"FLOAT","widget":{"name":"extend_left_factor"},"link":null},{"localized_name":"extend_right_factor","name":"extend_right_factor","type":"FLOAT","widget":{"name":"extend_right_factor"},"link":null},{"localized_name":"context_from_mask_extend_factor","name":"context_from_mask_extend_factor","type":"FLOAT","widget":{"name":"context_from_mask_extend_factor"},"link":null},{"localized_name":"output_resize_to_target_size","name":"output_resize_to_target_size","type":"BOOLEAN","widget":{"name":"output_resize_to_target_size"},"link":null},{"localized_name":"output_target_width","name":"output_target_width","type":"INT","widget":{"name":"output_target_width"},"link":null},{"localized_name":"output_target_height","name":"output_target_height","type":"INT","widget":{"name":"output_target_height"},"link":null},{"localized_name":"output_padding","name":"output_padding","type":"COMBO","widget":{"name":"output_padding"},"link":null}],"outputs":[{"localized_name":"stitcher","name":"stitcher","type":"STITCHER","links":[219]},{"localized_name":"cropped_image","name":"cropped_image","type":"IMAGE","links":[214]},{"localized_name":"cropped_mask","name":"cropped_mask","type":"MASK","links":[215]}],"properties":{"cnr_id":"comfyui-inpaint-cropandstitch","ver":"b432b2411cbb7d3192d35953bd3aafea05a0e245","Node name for S&R":"InpaintCropImproved"},"widgets_values":["bilinear","bicubic",false,"ensure minimum resolution",1024,1024,16384,16384,true,16,false,32,0.1,false,1,1,1,1,1.2000000000000002,false,512,512,"32"]}],"links":[[144,74,0,73,0,"MASK"],[145,76,0,74,0,"SAM2MODEL"],[146,75,1,74,4,"BBOX"],[148,67,0,74,1,"IMAGE"],[149,67,3,75,0,"JSON"],[150,73,0,77,0,"MASK"],[164,84,0,85,0,"CONDITIONING"],[168,10,0,83,2,"VAE"],[174,10,0,86,1,"VAE"],[181,89,0,91,0,"CLIP_VISION"],[182,90,0,92,1,"STYLE_MODEL"],[183,91,0,92,2,"CLIP_VISION_OUTPUT"],[185,92,0,84,0,"CONDITIONING"],[191,95,0,67,1,"FL2MODEL"],[214,122,1,83,3,"IMAGE"],[215,122,2,83,4,"MASK"],[219,122,0,124,0,"STITCHER"],[220,86,0,124,1,"IMAGE"],[221,124,0,63,0,"IMAGE"],[222,124,0,94,1,"IMAGE"],[275,6,0,92,0,"CONDITIONING"],[277,136,0,67,0,"IMAGE"],[278,136,0,94,0,"IMAGE"],[279,136,0,122,0,"IMAGE"],[281,161,0,81,0,"MODEL"],[288,54,0,166,0,"IMAGE"],[289,54,1,166,1,"MASK"],[293,161,0,170,0,"MODEL"],[295,169,0,6,0,"CLIP"],[302,170,0,82,0,"MODEL"],[303,83,0,82,1,"CONDITIONING"],[304,83,1,82,2,"CONDITIONING"],[305,83,2,82,3,"LATENT"],[306,82,0,86,0,"LATENT"],[307,54,0,91,1,"IMAGE"],[308,84,0,83,0,"CONDITIONING"],[309,85,0,83,1,"CONDITIONING"],[310,136,1,175,0,"*"],[311,73,0,175,3,"MASK"],[312,175,0,122,1,"MASK"]],"groups":[{"id":2,"title":"Flux Models","bounding":[-328.156494140625,29.776546478271484,343.3092346191406,973.0020751953125],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Prompts","bounding":[23.094646453857422,19.85699462890625,711.479248046875,965.231689453125],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"Input Image","bounding":[-686.2127685546875,450.7887878417969,338,548],"color":"#3f789e","font_size":24,"flags":{}},{"id":6,"title":"Ksampler","bounding":[743.8201293945312,5.418578147888184,345,980],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":1.015255979947733,"offset":[878.9151369996822,636.5807302812774]},"ue_links":[]},"version":0.4}